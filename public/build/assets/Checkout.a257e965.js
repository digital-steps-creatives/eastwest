import{u as B,r as n,o as l,c as o,a as r,b as a,w as O,d as e,e as u,be as j,bv as P,F as k,f as U,t as i,g as A,h as H,bG as E}from"./app.152e694b.js";import{u as D,H as G,L as I,_ as R}from"./GuestLayout.1ce2e90e.js";import{g as m,f as $,q as K}from"./flowbite-vue.d3f2ab70.js";/* empty css            */const Q={class:"breadcrumb-area pt-35 py-6 mb-12 bg-gray-50"},W={class:"flex flex-wrap justify-between items-center mx-auto max-w-6xl"},Y={"aria-label":"breadcrumb",class:"flex"},Z={class:"inline-flex items-center space-x-1 md:space-x-3"},z=e("li",{class:"inline-flex items-center"},[e("a",{href:"/",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-eastwest-600 dark:text-gray-400 dark:hover:text-white"},[e("svg",{class:"w-3 h-3 mr-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})]),u(" Home ")])],-1),J={"aria-current":"page"},X={class:"flex items-center"},ee=e("svg",{class:"w-3 h-3 text-gray-400 mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})],-1),te={id:"checkout__page",class:"mb-12"},se={class:"flex flex-wrap justify-between mx-auto max-w-6xl"},le={class:"w-3/5"},oe={class:"sm:pr-6 pr-0"},ae={class:"flex justify-between space-x-6 mb-3"},re={class:"flex justify-between space-x-6 mb-3"},ne={class:"flex justify-between space-x-6 mb-4"},ie=e("label",{for:""},"Gender",-1),de={class:"flex items-center mb-4"},ue=e("label",{for:"male",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Male",-1),ce={class:"flex items-center"},me=e("label",{for:"female",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Female",-1),_e={class:"mb-3"},he=e("label",{for:"",class:"mb-3 block"},"Choose Collection type",-1),ve={class:"grid w-full gap-6 md:grid-cols-2"},pe=["id","value"],fe=["for"],ye={class:"block"},ge={class:"w-full text-lg font-semibold"},we={class:"w-full"},be=e("svg",{class:"w-5 h-5 ml-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})],-1),xe={key:0,class:"mb-3"},ke=e("label",{for:"deliverylocation"},"Enter Delivery Location below",-1),Ve={class:"mb-3"},Ce={class:"w-2/5"},Ne={class:"py-4 mb-4 px-6 bg-gray-100 your-order-area"},Le=e("h4",null,"Your Order Summary",-1),Se={class:"your-order-product-info"},je=e("div",{class:"your-order-top"},[e("ul",null,[e("li",null,"Product"),e("li",null,"Total")])],-1),Pe={class:"your-order-middle"},Ue={class:"block"},Fe={class:"flex justify-between w-full"},Me={class:"order-middle-left"},Oe={class:"text-xl"},Ae={class:"order-price"},De={key:0,class:"block w-full"},Te={class:"font-medium flex justify-between"},qe=e("span",null,"Custom Name:",-1),Be={class:"text-eastwest-500"},He={class:"font-medium flex justify-between mb-4"},Ee=e("span",null,"Custom Number:",-1),Ge={class:"text-eastwest-500"},Ie={class:"font-medium flex justify-between mb-3"},Re=e("span",null,"Patch Selected:",-1),$e={class:"text-eastwest-500 inline-flex relative -top-4 ml-3"},Ke={key:0},Qe=["alt"],We={key:1},Ye=["alt"],Ze={class:"your-order-bottom"},ze=e("li",{class:"your-order-shipping"},"Shipping",-1),Je={key:0},Xe={key:1},et={class:"your-order-total"},tt=e("li",{class:"order-total"},"Total",-1),st=["onClick"],lt={key:0,class:"inline-flex items-center"},ot={key:1},ut={__name:"Checkout",setup(at){const V=B(),C=D(),F=D();C.loadFromLocalStorage();const M=h=>"Kes "+new Intl.NumberFormat("en-US").format(Math.round(h)),N={position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!0},T=[{id:1,name:"Pick from Our Shop",small:"Free",value:"collect myself"},{id:2,name:"Deliver to my Place of Choice",small:"charged based on distance",value:"deliver to me"}],p=n(""),f=n(""),y=n(""),g=n(""),w=n(""),c=n(""),_=n(""),b=n(""),L=n(""),S=n(!1),q=async()=>{S.value=!0;try{let h={name:p.value,phone:f.value,email:y.value,town:g.value,gender:_.value,county:w.value,delivery:c.value,delivery_instruction:b.value,deliverylocation:L.value,order:C.items,total:F.totalAmount};const s=await E.post(route("make.order"),h).then(function(t){if(t.data.status===200){V.success("Order created successfully!",N),p.value="",f.value="",y.value="",g.value="",w.value="",b.value="",S.value=!1;const v={order_number:t.data.order_number},x=`/orders/confirmation?${new URLSearchParams(v).toString()}`;console.log(x),window.location.href=x}else V.error("Order submission failed!",N)})}catch{V.error("An error occurred during submission.",N)}};return(h,s)=>(l(),o(k,null,[r(a(G),{title:"Checkout"}),r(R,null,{default:O(()=>[e("div",Q,[e("div",W,[e("nav",Y,[e("ol",Z,[z,e("li",J,[e("div",X,[ee,r(a(I),{class:"ml-1 text-sm font-medium text-eastwest-500 hover:text-eastwest-600 md:ml-2 dark:text-gray-400 dark:hover:text-white"},{default:O(()=>[u(" Checkout ")]),_:1})])])])])])]),e("section",te,[e("div",se,[e("div",le,[e("div",oe,[e("form",null,[e("div",ae,[r(a(m),{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),placeholder:"enter your first name",label:"First Name",class:"w-full"},null,8,["modelValue"]),r(a(m),{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=t=>f.value=t),placeholder:"enter your cellphone number",label:"Mobile Number",class:"w-full"},null,8,["modelValue"])]),e("div",re,[r(a(m),{modelValue:y.value,"onUpdate:modelValue":s[2]||(s[2]=t=>y.value=t),placeholder:"enter your email address",label:"Email",type:"email",class:"w-full"},null,8,["modelValue"]),r(a(m),{modelValue:g.value,"onUpdate:modelValue":s[3]||(s[3]=t=>g.value=t),placeholder:"enter your town's name",label:"Town/City",class:"w-full"},null,8,["modelValue"]),r(a(m),{modelValue:w.value,"onUpdate:modelValue":s[4]||(s[4]=t=>w.value=t),placeholder:"enter your county's name",label:"County",class:"w-full"},null,8,["modelValue"])]),e("div",ne,[e("div",null,[ie,e("div",de,[j(e("input",{id:"male","onUpdate:modelValue":s[5]||(s[5]=t=>_.value=t),type:"radio",value:"male",name:"gender",class:"w-4 h-4 text-eastwest-600 bg-gray-100 border-gray-300 focus:ring-eastwest-500 dark:focus:ring-eastwest-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[P,_.value]]),ue]),e("div",ce,[j(e("input",{checked:"",id:"female","onUpdate:modelValue":s[6]||(s[6]=t=>_.value=t),type:"radio",value:"female",name:"gender",class:"w-4 h-4 text-eastwest-600 bg-gray-100 border-gray-300 focus:ring-eastwest-500 dark:focus:ring-eastwest-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[P,_.value]]),me])])]),e("div",_e,[he,e("ul",ve,[(l(),o(k,null,U(T,(t,v)=>e("li",{key:v},[j(e("input",{type:"radio",id:t.id,"onUpdate:modelValue":s[7]||(s[7]=d=>c.value=d),name:"delivery",value:t.value,class:"hidden peer",required:""},null,8,pe),[[P,c.value]]),e("label",{for:t.id,class:"inline-flex items-center justify-between w-full p-5 text-gray-500 bg-white border-2 border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-eastwest-500 peer-checked:border-eastwest-600 peer-checked:text-eastwest-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700"},[e("div",ye,[e("div",ge,i(t.name),1),e("div",we,i(t.small),1)]),be],8,fe)])),64))])]),c.value==="deliver to me"?(l(),o("div",xe,[ke,r(a(m),{modelValue:L.value,"onUpdate:modelValue":s[8]||(s[8]=t=>L.value=t),placeholder:"enter your delivery location",label:"Delivery Location",class:"w-full",id:"deliverylocation"},null,8,["modelValue"])])):A("",!0),e("div",Ve,[r(a($),{rows:"4",placeholder:"Write your order notes like special needs for delivery...",modelValue:b.value,"onUpdate:modelValue":s[9]||(s[9]=t=>b.value=t),label:"Additional Delivery/Package Instructions"},null,8,["modelValue"])])])])]),e("div",Ce,[e("div",Ne,[Le,e("div",Se,[je,e("div",Pe,[e("ul",Ue,[(l(!0),o(k,null,U(a(C).items,(t,v)=>(l(),o("li",{key:v},[e("div",Fe,[e("span",Me,[e("span",Oe,i(t.name),1),u(" Qty: "+i(t.quantity),1)]),e("span",Ae,i(M(t.price)),1)]),t.customAddons?(l(),o("span",De,[(l(!0),o(k,null,U(t.customAddons,(d,x)=>(l(),o("span",{key:x},[e("span",Te,[qe,u(),e("span",Be,i(d.CustomNameAdded.customName),1)]),e("span",He,[Ee,u(),e("span",Ge,i(d.CustomNameAdded.customNumber),1)]),e("span",Ie,[Re,u(),e("span",$e,[d.patchChosen.MyPatch==="Premier League"?(l(),o("span",Ke,[e("img",{src:"/images/2023_pl_patch.png",alt:d.patchChosen.MyPatch,class:"w-10"},null,8,Qe)])):(l(),o("span",We,[e("img",{src:"/images/Mens-Champions-League-22.png",alt:d.patchChosen.MyPatch,class:"w-10"},null,8,Ye)]))])])]))),128))])):A("",!0)]))),128))])]),e("div",Ze,[e("ul",null,[ze,e("li",null,[c.value?(l(),o("span",Je,i(c.value),1)):(l(),o("span",Xe,"Not selected"))])])]),e("div",et,[e("ul",null,[tt,e("li",null,i(M(a(F).totalAmount.toFixed(2))),1)])])])]),e("button",{class:"bg-eastwest-500 hover:bg-eastwest-600 text-white py-2.5 w-full rounded-full",type:"submit",onClick:H(q,["prevent"])},[S.value?(l(),o("span",lt,[u("Please wait ... "),r(a(K),{class:"ml-2"})])):(l(),o("span",ot,"Place Order"))],8,st)])])])]),_:1})],64))}};export{ut as default};
